# Сервис рассылки

## Описание

Этот проект представляет собой веб-приложение на основе FastAPI, которое позволяет отправлять уведомления через электронную почту и Telegram. Для обработки задач в фоновом режиме используется Celery с Redis в качестве брокера сообщений.

Проект включает следующие возможности:
- Отправка уведомлений через электронную почту.
- Отправка уведомлений через Telegram.
- Планирование отправки уведомлений с задержкой.

## Установка

### Требования

- Python 3.11 или выше.
- Установленный Redis сервер.

### Шаги установки

1. Клонируйте репозиторий:

    ```sh
    git clone https://github.com/your_username/test_task_mailing_service.git
    cd test_task_mailing_service
    ```
    
2. Создайте виртуальное окружение и активируйте его:

    ```sh
    python -m venv .venv
    source .venv/bin/activate  # На Windows используйте .venv\Scripts\activate
    ```
    
3. Установите зависимости:

    ```sh
    pip install -r requirements.txt
    ```
4. Настройте переменные окружения:

    Создайте файл `.env` в корне проекта, переименуйте файл `.env.sample` и заполните своими данными.

### Запуск приложения

1. Запустите Celery worker:

    ```sh
    celery -A app.tasks worker --loglevel=info
    ```

2. Запустите FastAPI приложение:

    ```sh
    uvicorn app.main:app --reload
    ```

Теперь вы можете отправлять запросы к API для планирования уведомлений:

```json
{
  "message": "Привет!",
  "recipient": [
    "247136275",
    "test@mail.com"
  ],
  "delay": 0
}

